__NUXT_JSONP__("/blog/articles/elastic-stack", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP){return {data:[{article:{title:a$,description:"A lengthy article on how to configure an elastic stack as a cluster with Redis and TLS\u002FSSL.",img:"eaters-collective-rS1GogPLVHk-unsplash.jpg",alt:a$,featured:1,author:{name:"Jesse Quinn",bio:"All about Jesse",img:"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1533636721434-0e2d61030955?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2550&q=80",alt:"profile photo"},publishedAt:"2020-07-04T03:00:00.000Z",updateAt:ba,toc:[{id:bb,depth:at,text:bc},{id:bd,depth:at,text:be},{id:bf,depth:at,text:bg}],body:{type:"root",children:[{type:b,tag:au,props:{id:bb},children:[{type:b,tag:x,props:{href:"#introduction",ariaHidden:av,tabIndex:aw},children:[{type:b,tag:c,props:{className:[ax,ay]},children:[]}]},{type:a,value:bc}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"I do enjoy working with "},{type:b,tag:x,props:{href:"https:\u002F\u002Fdocs.docker.com\u002Fcompose\u002F",rel:[R,S,T],target:U},children:[{type:a,value:"Docker-compose"}]},{type:a,value:", "},{type:b,tag:x,props:{href:"https:\u002F\u002Fwww.elastic.co\u002F",rel:[R,S,T],target:U},children:[{type:a,value:"Elastic stack"}]},{type:a,value:", so I\ndecided to quickly go through \"the how\" to set up a stack with TLS\u002FSSL (self-signed), a cluster of Elasticsearches (same machine), and "},{type:b,tag:x,props:{href:"https:\u002F\u002Fredis.io\u002F",rel:[R,S,T],target:U},children:[{type:a,value:"Redis"}]},{type:a,value:"\nas a \"buffer\" layer deployed in front of Logstash. However, Elastic already offers a\npretty "},{type:b,tag:x,props:{href:"https:\u002F\u002Fwww.elastic.co\u002Fguide\u002Fen\u002Felastic-stack-get-started\u002Fcurrent\u002Fget-started-docker.html",rel:[R,S,T],target:U},children:[{type:a,value:"intuitive guide"}]},{type:a,value:" on\ntheir site minus the Redis part. In addition, one could use "},{type:b,tag:x,props:{href:"https:\u002F\u002Fwww.elastic.co\u002Fguide\u002Fen\u002Flogstash\u002Fcurrent\u002Fpersistent-queues.html",rel:[R,S,T],target:U},children:[{type:a,value:"persisent queues"}]},{type:a,value:",\nwhich I will discuss in a later article, with logstash rather than Redis or Kafka, as a \"buffer\" layeryarn add prism-themes."}]},{type:a,value:j},{type:b,tag:au,props:{id:bd},children:[{type:b,tag:x,props:{href:"#installation",ariaHidden:av,tabIndex:aw},children:[{type:b,tag:c,props:{className:[ax,ay]},children:[]}]},{type:a,value:be}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"Make sure you have Docker and Docker-compose installed."}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"We will create several important files, first:"}]},{type:a,value:j},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:c,props:{className:[H]},children:[{type:a,value:bh}]},{type:b,tag:A,props:{className:[B,ae]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"instances"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" es01\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" es02\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bj},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bk},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bl},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" es03\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bj},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bk},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"'kibana'"}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" kibana\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"'logstash'"}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" logstash\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:j}]}]}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:bm},{type:b,tag:o,props:{},children:[{type:a,value:bh}]},{type:a,value:" contains the necessary information to build our self-signed certificates that will be used for TLS\u002FSSL between nodes, Logstash, etc.\nHowever, Kibana is more than likely not needed here as I create specific certificates via Let'sencrypt to handle HTTPS.\nFeel free to add\u002Fremove ips and dnses."}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"The next important file:"}]},{type:a,value:j},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:c,props:{className:[H]},children:[{type:a,value:bn}]},{type:b,tag:A,props:{className:[B,ae]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bp}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"create_certs"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" create_certs\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bt}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,"scalar",s]},children:[{type:a,value:"\n      bash -c '\n        yum install -y -q -e 0 unzip;\n        if [[ ! -f \u002Fcerts\u002Fbundle.zip ]]; then\n          bin\u002Felasticsearch-certutil cert --silent --pem --in config\u002Fcertificates\u002Finstances.yml -out \u002Fcerts\u002Fbundle.zip;\n          unzip \u002Fcerts\u002Fbundle.zip -d \u002Fcerts;\n        fi;\n        chown -R 1000:0 \u002Fcerts\n      '"}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"working_dir"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fusr\u002Fshare\u002Felasticsearch\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002Fcerts\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" ."},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002Fusr\u002Fshare\u002Felasticsearch\u002Fconfig\u002Fcertificates\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" elastic\n"}]}]}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:bm},{type:b,tag:o,props:{},children:[{type:a,value:bn}]},{type:a,value:" will generate the self-signed certificates using the "},{type:b,tag:o,props:{},children:[{type:a,value:"elasticsearch-certutil"}]},{type:a,value:" command provided by Elasticsearch."}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"Now we need to create a "},{type:b,tag:o,props:{},children:[{type:a,value:aE}]},{type:a,value:" file:"}]},{type:a,value:j},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:c,props:{className:[H]},children:[{type:a,value:aE}]},{type:b,tag:A,props:{className:[B,aF]},children:[{type:b,tag:o,props:{},children:[{type:a,value:"COMPOSE_PROJECT_NAME=es\nCERTS_DIR=\u002Fusr\u002Fshare\u002Felasticsearch\u002Fconfig\u002Fcertificates\nVERSION=7.8.0\n"}]}]}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"You can use the "},{type:b,tag:o,props:{},children:[{type:a,value:aE}]},{type:a,value:" to place variables such as a password or a username."}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"To ingest correctly with Logstash we need to create a custom Dockerfile:"}]},{type:a,value:j},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:c,props:{className:[H]},children:[{type:a,value:"Dockerfile"}]},{type:b,tag:A,props:{className:[B,"language-dockerfile"]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:"ARG"}]},{type:a,value:" ELK_VERSION\n\n"},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"# https:\u002F\u002Fgithub.com\u002Felastic\u002Flogstash-docker"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:"FROM"}]},{type:a,value:" docker.elastic.co\u002Flogstash\u002Flogstash"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"# Add your logstash plugins setup here"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:"RUN"}]},{type:a,value:" logstash"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"beats &&\\\n    logstash"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"json &&\\\n    logstash"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"ruby &&\\\n    logstash"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"redis\n"}]}]}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"We specifically need to install several inputs, and if you want, some filters."}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"As an example, I like to use the built in modules found in Filebeat along with their templates. So to maintain the correct ingestion\nwe need to use the ingest pipelines provided by Filebeat. But, before we get to that, we need to configure the "},{type:b,tag:o,props:{},children:[{type:a,value:bx}]},{type:a,value:f}]},{type:a,value:j},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:c,props:{className:[H]},children:[{type:a,value:bx}]},{type:b,tag:A,props:{className:[B,aF]},children:[{type:b,tag:o,props:{},children:[{type:a,value:"input {\n  beats {\n    port =\u003E 5044\n  }\n\n  redis {\n    host =\u003E \"redis\"\n    password =\u003E \"CHANGEME\"\n    key =\u003E \"filebeat\"\n    data_type =\u003E \"list\"\n  }\n\n  redis {\n    host =\u003E \"redis\"\n    password =\u003E \"CHANGEME\"\n    key =\u003E \"metricbeat\"\n    data_type =\u003E \"list\"\n  }\n\n}\n\noutput {\n  if [@metadata][pipeline] {\n    elasticsearch {\n      hosts =\u003E \"https:\u002F\u002Fes01:9200\"\n      manage_template =\u003E false\n      index =\u003E \"%{[@metadata][beat]}-%{[@metadata][version]}\"\n      pipeline =\u003E \"%{[@metadata][pipeline]}\"\n      cacert =\u003E \"\u002Fusr\u002Fshare\u002Felasticsearch\u002Fconfig\u002Fcertificates\u002Fca\u002Fca.crt\"\n      user =\u003E \"logstash_writer\"\n      password =\u003E \"CHANGEME\"\n    }\n  } else {\n    elasticsearch {\n      hosts =\u003E \"https:\u002F\u002Fes01:9200\"\n      manage_template =\u003E false\n      index =\u003E \"%{[@metadata][beat]}-%{[@metadata][version]}\"\n      cacert =\u003E \"\u002Fusr\u002Fshare\u002Felasticsearch\u002Fconfig\u002Fcertificates\u002Fca\u002Fca.crt\"\n      user =\u003E \"logstash_writer\"\n      password =\u003E \"CHANGME\"\n    }\n  }\n}\n"}]}]}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"We actually do not use any filters here; however, you are welcome to incorporate your own pipelines. For simplicity,\nI am using the built in "},{type:b,tag:x,props:{href:"https:\u002F\u002Fwww.elastic.co\u002Fguide\u002Fen\u002Flogstash\u002Fcurrent\u002Fuse-ingest-pipelines.html",rel:[R,S,T],target:U},children:[{type:a,value:"pipelines"}]},{type:a,value:"\nfrom Filebeat. To use them, we need to install them. "},{type:b,tag:o,props:{},children:[{type:a,value:"sudo filebeat setup --pipelines --modules system"}]},{type:a,value:" as an example\nalong with "},{type:b,tag:o,props:{},children:[{type:a,value:"sudo filebeat modules enable system"}]},{type:a,value:" (sudo - assuming you are on linux). It must be noted, you need to already have\nElasticsearch setup in both your "},{type:b,tag:o,props:{},children:[{type:a,value:by}]},{type:a,value:" as an output along with Elasticsearch running. So running these commands are\nbest left to last. In addition, you will notice that I am using "},{type:b,tag:o,props:{},children:[{type:a,value:"index =\u003E \"%{[@metadata][beat]}-%{[@metadata][version]}\""}]},{type:a,value:". This format\nworks with the default policy rollover alias. So leave it as such unless you know what you are doing."}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"Finally, we need to create a "},{type:b,tag:o,props:{},children:[{type:a,value:aH}]},{type:a,value:f}]},{type:a,value:j},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:c,props:{className:[H]},children:[{type:a,value:aH}]},{type:b,tag:A,props:{className:[B,ae]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bp}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"x-logging"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"&default-logging"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"json-file\""}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"options"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"max-size"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"10m\""}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"max-file"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"3\""}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"es01"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" node.name=es01\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" discovery.seed_hosts=es02"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:aN}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aj}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.http.ssl.key=$CERTS_DIR\u002Fes01\u002Fes01.key\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.http.ssl.certificate=$CERTS_DIR\u002Fes01\u002Fes01.crt\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.transport.ssl.certificate=$CERTS_DIR\u002Fes01\u002Fes01.crt\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.transport.ssl.key=$CERTS_DIR\u002Fes01\u002Fes01.key\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:X}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:X}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\u002Felasticsearch\u002Fdata\u002Fdata01"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" 9200"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aY}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"cacert $CERTS_DIR\u002Fca\u002Fca.crt "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"s https"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002F\u002Flocalhost"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"9200 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\u002Fdev\u002Fnull; if "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:" $$"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"?"}]},{type:a,value:" == 52 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:"; then echo 0; else echo 1; fi\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" 30s\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" 10s\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:a_}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Q}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" node.name=es02\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:aN}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aj}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.http.ssl.key=$CERTS_DIR\u002Fes02\u002Fes02.key\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.http.ssl.certificate=$CERTS_DIR\u002Fes02\u002Fes02.crt\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.transport.ssl.certificate=$CERTS_DIR\u002Fes02\u002Fes02.crt\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.transport.ssl.key=$CERTS_DIR\u002Fes02\u002Fes02.key\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:X}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:X}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\u002Felasticsearch\u002Fdata\u002Fdata02"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Q}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"es03"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bl},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" node.name=es03\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:"es02\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:aN}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aj}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.http.ssl.key=$CERTS_DIR\u002Fes03\u002Fes03.key\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.http.ssl.certificate=$CERTS_DIR\u002Fes03\u002Fes03.crt\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.transport.ssl.certificate=$CERTS_DIR\u002Fes03\u002Fes03.crt\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.transport.ssl.key=$CERTS_DIR\u002Fes03\u002Fes03.key\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:X}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:X}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\u002Felasticsearch\u002Fdata\u002Fdata03"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Q}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"kibana"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" docker.elastic.co\u002Fkibana\u002Fkibana"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" kibana\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"ELASTICSEARCH_URL"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aY}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"ELASTICSEARCH_HOSTS"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:aY}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"ELASTICSEARCH_USERNAME"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" kibana_system\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"ELASTICSEARCH_PASSWORD"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" CHANGME "},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"# change with new password after generating"}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"ELASTICSEARCH_SSL_CERTIFICATEAUTHORITIES"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" $CERTS_DIR\u002Fca\u002Fca.crt\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"SERVER_SSL_ENABLED"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"true\""}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"SERVER_SSL_KEY"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\u002Fprivkey.pem\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"SERVER_SSL_CERTIFICATE"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\u002Fcert.pem\n   "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002Fusr\u002Fshare\u002Felasticsearch\u002Fconfig\u002Fletsencrypt"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" .\u002Fdocker\u002Fkibana\u002Fkibana.yml"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002Fusr\u002Fshare\u002Fkibana\u002Fconfig\u002Fkibana.yml"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" 5601"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"5601"}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Q}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" adferrand\u002Fdnsrobocert"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"latest\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" dnsrobocert\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" .\u002Fdocker\u002Fdnsrobocert"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002Fetc\u002Fdnsrobocert\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002Fetc\u002Fletsencrypt\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Q}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"redis"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"5.0"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"alpine\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" redis\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bt}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"server "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"requirepass \u003Csome_long_password"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"  \u003Csome host mount"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\u002Fredis\u002Fdata"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002Fdata\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" 6379"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"6379"}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Q}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"logstash"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"build"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"context"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" .\u002Fdocker\u002Flogstash\u002F\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"dockerfile"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" Dockerfile\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"args"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" $VERSION\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" logstash\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"LS_JAVA_OPTS=-Xms1g -Xmx1g\""}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aj}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.monitoring.enabled=true\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.monitoring.elasticsearch.username=logstash_system\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.monitoring.elasticsearch.password=CHANGEME "},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"# place new password here after generating"}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.monitoring.elasticsearch.hosts="},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"'https:\u002F\u002Fes01:9200'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.monitoring.elasticsearch.ssl.certificate_authority=$CERTS_DIR\u002Fca\u002Fca.crt\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.transport.ssl.certificate=$CERTS_DIR\u002Flogstash\u002Flogstash.crt\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" xpack.security.transport.ssl.key=$CERTS_DIR\u002Flogstash\u002Flogstash.key\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" .\u002Fdocker\u002Flogstash\u002Fconfig\u002Flogstash.conf"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002Fusr\u002Fshare\u002Flogstash\u002Fpipeline\u002Flogstash.conf"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" .\u002Fdocker\u002Flogstash\u002Fpatterns\u002F"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002Fusr\u002Fshare\u002Flogstash\u002Fpatterns\u002F"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" 5044"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"5044"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"# filebeat"}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"s "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"XGET 'http"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002F\u002F127.0.0.1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"9600'\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" 60s\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" 50s\n      "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:bD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:a_}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:Q}]},{type:a,value:j}]}]}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"Quick note, I use "},{type:b,tag:o,props:{},children:[{type:a,value:bK}]},{type:a,value:" to create SSL certs via DNS. You may not require this."}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"We can now run the following commands to build our system:"}]},{type:a,value:j},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,"language-bash"]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"# create certificates (TLS)"}]},{type:a,value:"\ndocker-compose -f create-certs.yml run --rm create_certs\n"},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"# start stack"}]},{type:a,value:"\ndocker-compose up --build -d\n"},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"# create passwords for Elasticsearch"}]},{type:a,value:"\ndocker "},{type:b,tag:c,props:{className:[d,"builtin","class-name"]},children:[{type:a,value:"exec"}]},{type:a,value:" es01 \u002Fbin\u002Fbash -c "},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"bin\u002Felasticsearch-setup-passwords \\\nauto --batch \\\n--url https:\u002F\u002Fes01:9200\""}]},{type:a,value:j}]}]}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"Once the passwords have been generated, shutdown ("},{type:b,tag:o,props:{},children:[{type:a,value:"docker-compose stop"}]},{type:a,value:") your stack and update the "},{type:b,tag:o,props:{},children:[{type:a,value:aH}]},{type:a,value:" with the new passwords.\nThe same goes for any other files that may require these\nnew passwords. Once updated, you may "},{type:b,tag:o,props:{},children:[{type:a,value:"docker-compose up -d"}]},{type:a,value:bM}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"To create the user needed for Logstash we can run the following inside the "},{type:b,tag:o,props:{},children:[{type:a,value:"dev-tools"}]},{type:a,value:" of Kibana:"}]},{type:a,value:j},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,aF]},children:[{type:b,tag:o,props:{},children:[{type:a,value:"POST \u002F_security\u002Frole\u002Flogstash_write_role\n{\n  \"cluster\": [\n    \"monitor\",\n    \"manage_index_templates\"\n  ],\n  \"indices\": [\n    {\n      \"names\": [\n        \"logstash*\",\n        \"filebeat*\",\n        \"metricbeat*\"\n      ],\n      \"privileges\": [\n        \"write\",\n        \"create_index\"\n      ],\n      \"field_security\": {\n        \"grant\": [\n          \"*\"\n        ]\n      }\n    }\n  ],\n  \"run_as\": [],\n  \"metadata\": {},\n  \"transient_metadata\": {\n    \"enabled\": true\n  }\n}\n\nPOST \u002F_security\u002Fuser\u002Flogstash_writer\n{\n  \"username\": \"logstash_writer\",\n  \"roles\": [\n    \"logstash_write_role\"\n  ],\n  \"full_name\": null,\n  \"email\": null,\n  \"password\": \"\u003CSOME PASSWORD\u003E\",\n  \"enabled\": true\n}\n"}]}]}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"Make sure to pick a good password. This user\u002Frole allows Logstash to create indices and update them. You will probably need to restart Logstash\n"},{type:b,tag:o,props:{},children:[{type:a,value:"docker-compose stop logstash && docker-compose up -d logstash"}]},{type:a,value:bM}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"As an example with Filebeat:"}]},{type:a,value:j},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:c,props:{className:[H]},children:[{type:a,value:by}]},{type:b,tag:A,props:{className:[B,ae]},children:[{type:b,tag:o,props:{},children:[{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"filebeat.config.modules"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"path"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" $"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:"path.config"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:"\u002Fmodules.d\u002F"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"*.yml"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"reload.enabled"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,"boolean",u]},children:[{type:a,value:"false"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#setup.template.settings:"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#  index.number_of_shards: 1"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#setup.template.name: \"filebeat-\""}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#setup.template.pattern: \"filebeat-*\""}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#setup.dashboards.enabled: true"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#setup.kibana:"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#  host: \"localhost:5601\""}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bN}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bO}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bP}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#output.elasticsearch:"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#  enabled: true"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#  hosts: [\"localhost:9200\"]"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bN}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bO}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bP}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#  ssl.enabled: true"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#  ssl.certificate_authorities: [\"\u003Csome host mount\u003E\u002Felasticsearch\u002Fcerts\u002Fca\u002Fca.crt\"]"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#  ssl.certificate: \"\u003Csome host mount\u003E\u002Felasticsearch\u002Fcerts\u002Fes01\u002Fes01.crt\""}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"#  ssl.key: \"\u003Csome host mount\u003E\u002Felasticsearch\u002Fcerts\u002Fes01\u002Fes01.key\""}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"output.redis"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"hosts"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"localhost\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"password"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"CHANGEME\""}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"filebeat\""}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"db"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"0"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:a_}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"data_type"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"list\""}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"processors"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"add_host_metadata"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,ar,u]},children:[{type:a,value:as}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"add_cloud_metadata"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,ar,u]},children:[{type:a,value:as}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"add_docker_metadata"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,ar,u]},children:[{type:a,value:as}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"add_kubernetes_metadata"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,ar,u]},children:[{type:a,value:as}]},{type:a,value:j}]}]}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"Uncomment the setup and output.elasticsearch sections and comment out the output.redis section to install the Kibana templates, index, etc.\nThis is also when you need to run the Filebeat commands mentioned above. Once done, return the comments and uncomment the output.redis section.\nOne note, you do not need to run the same commands with Metricbeat as Metricbeat does not, from what I can find, have any ingest pipelines."}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"Best of luck. You should now have a working Elastic stack! "}]},{type:a,value:j},{type:b,tag:au,props:{id:bf},children:[{type:b,tag:x,props:{href:"#final-words",ariaHidden:av,tabIndex:aw},children:[{type:b,tag:c,props:{className:[ax,ay]},children:[]}]},{type:a,value:bg}]},{type:a,value:j},{type:b,tag:p,props:{},children:[{type:a,value:"Although complex to configure, an Elastic stack along with Beats (i.e. Filebeat, Metricbeat, etc.) creatures an amazing system for monitoring metrics and\nlogs alike."}]}]},dir:"\u002Farticles",path:"\u002Farticles\u002Felastic-stack",extension:".md",slug:"elastic-stack",createdAt:"2020-07-22T00:27:09.703Z",updatedAt:"2020-07-25T22:21:25.064Z"},prev:{title:"Metrics with Prometheus on Kubernetes",updateAt:ba,slug:"prometheus"},next:{title:"Running Kubeadm on a bare-metal system (ubuntu-based)",updateAt:"2020-07-25T03:00:00.000Z",slug:"k8s-bare-metal"}}],fetch:[],mutations:[]}}("text","element","span","token","punctuation",":","-","key","atrule","\n"," ","\n      ","\n    ","comment","code","p","\u003E","\n  ","string","number","important","\n\n","networks","a","div","nuxt-content-highlight","pre","line-numbers"," \u003Csome host mount",",","\n\n  ","container_name","volumes","filename","image","{","}","restart"," always\n    ","\n        "," elastic\n    ","logging","*default-logging","nofollow","noopener","noreferrer","_blank","$","\u002Felasticsearch\u002Fcerts","-1","name","dns","ip","VERSION","environment","es03\n      ","$CERTS_DIR","ro\n    ","language-yaml"," es01\n    "," docker.elastic.co\u002Felasticsearch\u002Felasticsearch","plugin install logstash","es02","# change for production"," xpack.security.transport.ssl.enabled=true\n      "," xpack.security.transport.ssl.verification_mode=certificate\n      "," xpack.security.transport.ssl.certificate_authorities=$CERTS_DIR\u002Fca\u002Fca.crt\n      ","ports","[","]","ro\n      ","null","~",2,"h2","true",-1,"icon","icon-link"," localhost\n      "," \u003Csome domain"," 127.0.0.1\n      "," \u003Csome ip","driver",".env","language-text","keyword","docker-compose.yml"," cluster.name=es","docker","cluster\n      "," cluster.initial_master_nodes=es01"," bootstrap.memory_lock=true\n      ","\"ES_JAVA_OPTS=-Xms1g -Xmx1g\""," xpack.license.self_generated.type=basic\n      "," xpack.security.enabled=true\n      "," xpack.security.http.ssl.enabled=true\n      "," xpack.security.http.ssl.certificate_authorities=$CERTS_DIR\u002Fca\u002Fca.crt\n      ","ulimits","memlock","soft","hard","\u002Fusr\u002Fshare\u002Felasticsearch\u002Fdata","rw\n      ","9200","timeout","5","An elastic stack with Redis \"buffer\"","2020-07-19T03:00:00.000Z","introduction","Introduction","installation","Installation","final-words","Final Words","instances.yml"," es02\n    "," localhost\n    "," 127.0.0.1\n\n  "," es03\n    ","The ","create-certs.yml","version","'3.8'","elastic"," bridge\n\n","services","command","ELK_VERSION","input","filter","logstash.conf","filebeat.yml","healthcheck","test"," curl ","interval","retries"," discovery.seed_hosts=es01"," https","\u002F\u002Fes01"," \u002Fusr\u002Fshare\u002Felasticsearch\u002Fconfig\u002Fletsencrypt\u002Flive\u002F\u003Csome domain","depends_on"," .\u002Fdocker\u002Fletsencrypt","dnsrobocert"," redis",".","#  protocol: \"https\"","#  username: \"elastic\"","#  password: \"CHANGME\"")));