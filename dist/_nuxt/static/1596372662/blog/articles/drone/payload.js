__NUXT_JSONP__("/blog/articles/drone", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag){return {data:[{article:{title:E,description:"A brief look at drone.io - an automating testing and delivery software.",img:"diana-macesanu-fvPfMJL2wKw-unsplash.jpg",alt:E,featured:1,author:{name:"Jesse Quinn",bio:"All about Jesse",img:"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1533636721434-0e2d61030955?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2550&q=80",alt:"profile photo"},publishedAt:"2019-11-02T03:00:00.000Z",updateAt:v,toc:[],body:{type:"root",children:[{type:b,tag:s,props:{},children:[{type:a,value:"Although I am quite familiar with Jenkins I wanted to look at another automation software for development "},{type:b,tag:w,props:{href:"https:\u002F\u002Fdrone.io\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"Drone.io"}]},{type:a,value:". What i have initially enjoyed about drone is the no fuss install or rather docker run command. Drone also supports numerous source control management providers. For instance, we need to "},{type:b,tag:j,props:{},children:[{type:a,value:"docker pull drone\u002Fdrone:1"}]},{type:a,value:" followed by assuming you are working with "},{type:b,tag:w,props:{href:F,rel:[x,y,z],target:A},children:[{type:a,value:G}]},{type:a,value:g}]},{type:a,value:m},{type:b,tag:H,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,"language-text"]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"docker run \\\n  --volume=\u002Fvar\u002Flib\u002Fdrone:\u002Fdata \\\n  --env=DRONE_AGENTS_ENABLED=true \\\n  --env=DRONE_GITHUB_SERVER=https:\u002F\u002Fgithub.com \\\n  --env=DRONE_GITHUB_CLIENT_ID=${DRONE_GITHUB_CLIENT_ID} \\\n  --env=DRONE_GITHUB_CLIENT_SECRET=${DRONE_GITHUB_CLIENT_SECRET} \\\n  --env=DRONE_RPC_SECRET=${DRONE_RPC_SECRET} \\\n  --env=DRONE_SERVER_HOST=${DRONE_SERVER_HOST} \\\n  --env=DRONE_SERVER_PROTO=${DRONE_SERVER_PROTO} \\\n  --publish=80:80 \\\n  --publish=443:443 \\\n  --restart=always \\\n  --detach=true \\\n  --name=drone \\\n  drone\u002Fdrone:1\n"}]}]}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"However, lets rewind for a moment. Before running the above command we need to configure our provider, in this case, "},{type:b,tag:w,props:{href:F,rel:[x,y,z],target:A},children:[{type:a,value:G}]},{type:a,value:". This is easily done by creating an "},{type:b,tag:j,props:{},children:[{type:a,value:"OAUTH"}]},{type:a,value:" application under your account settings. The "},{type:b,tag:j,props:{},children:[{type:a,value:"consumer key"}]},{type:a,value:B},{type:b,tag:j,props:{},children:[{type:a,value:"consumer secret"}]},{type:a,value:" are what we need to include in the above command as "},{type:b,tag:j,props:{},children:[{type:a,value:"DRONE_GITHUB_CLIENT_ID"}]},{type:a,value:B},{type:b,tag:j,props:{},children:[{type:a,value:"DRONE_GITHUB_CLIENT_SECRET"}]},{type:a,value:". We can use "},{type:b,tag:j,props:{},children:[{type:a,value:"openssl rand -hex 16"}]},{type:a,value:" to generate the "},{type:b,tag:j,props:{},children:[{type:a,value:"DRONE_RPC_SECRET"}]},{type:a,value:" and you will need to define "},{type:b,tag:j,props:{},children:[{type:a,value:"DRONE_SERVER_HOST"}]},{type:a,value:" as the "},{type:b,tag:j,props:{},children:[{type:a,value:"url"}]},{type:a,value:" you plan to use for your server while "},{type:b,tag:j,props:{},children:[{type:a,value:"DRONE_SERVER_PROTO"}]},{type:a,value:" can be "},{type:b,tag:j,props:{},children:[{type:a,value:"http"}]},{type:a,value:" or "},{type:b,tag:j,props:{},children:[{type:a,value:"https"}]},{type:a,value:". With all variables setup you are good to go!"}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"Go to the url you have setup for drone and you should be presented with an authorization request for Github. Once authorized you should see all repositories that you have, both public and private. Activate a repo that you plan to use with drone. "}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"For drone to work with this repo we need to push a "},{type:b,tag:j,props:{},children:[{type:a,value:L}]},{type:a,value:" file. This is where the fun begins.  There are four types of runners - "},{type:b,tag:j,props:{},children:[{type:a,value:"docker"}]},{type:a,value:M},{type:b,tag:j,props:{},children:[{type:a,value:N}]},{type:a,value:M},{type:b,tag:j,props:{},children:[{type:a,value:"ssh"}]},{type:a,value:B},{type:b,tag:j,props:{},children:[{type:a,value:"digital ocean"}]},{type:a,value:". I use "},{type:b,tag:j,props:{},children:[{type:a,value:N}]},{type:a,value:" as I have no isolation requirements. The following example works with two branches and contains several conditions depending on the branch.  For most the "},{type:b,tag:j,props:{},children:[{type:a,value:O}]},{type:a,value:" should be self explanatory as one of the key features of drone is the readability of the "},{type:b,tag:j,props:{},children:[{type:a,value:O}]},{type:a,value:". Further information can be found in the documentation, which is quite detailed!"}]},{type:a,value:m},{type:b,tag:H,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,"language-yaml"]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"---"}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"kind"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" pipeline\n"},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"type"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" exec\n"},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" default\n\n"},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"platform"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"os"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" linux\n  "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"arch"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" amd64\n\n"},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"steps"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" prepare_production\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" cp .env.prod.dist .env\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" prepare_development\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" cp .env.dev.dist .env\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" backend\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" composer install\n\n  "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" frontend_development\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" yarn run encore dev\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" frontend_production\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" yarn run encore production\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" deploy_production\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"rf \u002Fvar\u002Fwww\u002Fjessequinn\u002F*\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"exclude .git\u002F . \u002Fvar\u002Fwww\u002Fjessequinn\u002F\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"data \u002Fvar\u002Fwww\u002Fjessequinn\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" deploy_development\n    "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"rf \u002Fvar\u002Fwww\u002Fdev\u002Fjessequinn\u002F*\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"exclude .git\u002F . \u002Fvar\u002Fwww\u002Fdev\u002Fjessequinn\u002F\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"data \u002Fvar\u002Fwww\u002Fdev\u002Fjessequinn\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" develop\n"},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"trigger"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" master\n    "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" develop\n  "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"event"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" push\n    "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" pull_request\n"}]}]}]},{type:a,value:m},{type:b,tag:s,props:{},children:[{type:a,value:"I want to make one important note. After pushing your "},{type:b,tag:j,props:{},children:[{type:a,value:L}]},{type:a,value:" to your service provider and no action takes place on your drone server then check the "},{type:b,tag:j,props:{},children:[{type:a,value:"webhooks"}]},{type:a,value:" on your service provider. It could be possible that the "},{type:b,tag:j,props:{},children:[{type:a,value:"webhook url"}]},{type:a,value:" that "},{type:b,tag:j,props:{},children:[{type:a,value:ag}]},{type:a,value:" setup is wrong."}]}]},dir:"\u002Farticles",path:"\u002Farticles\u002Fdrone",extension:".md",slug:ag,createdAt:"2020-07-22T00:27:09.726Z",updatedAt:"2020-07-22T00:27:38.790Z"},prev:{title:"Top 5% of Highly Cited Authors",updateAt:v,slug:"citation"},next:{title:"More on Drone.io",updateAt:v,slug:"drone-again"}}],fetch:[],mutations:[]}}("text","element","span","token","punctuation","-",":","key","atrule","code","\n      ","name","\n"," ","commands","branch","when","\n        ","p","{","}","2020-07-19T03:00:00.000Z","a","nofollow","noopener","noreferrer","_blank"," and ","\n  "," master\n\n  ","Drone Adventures","https:\u002F\u002Fgithub.com\u002F","Github","div","nuxt-content-highlight","pre","line-numbers",".drone.yml",", ","exec","yaml"," develop\n\n  "," yarn install\n      "," rm "," rsync ","avz ","progress "," chown ","R www","data","www"," find \u002Fvar\u002Fwww\u002Fjessequinn ","type d ","exec chmod 755 "," \\;\n      ","type f ","exec chmod 644 "," \\;\n    "," find \u002Fvar\u002Fwww\u002Fdev\u002Fjessequinn ","\n    ","drone")));