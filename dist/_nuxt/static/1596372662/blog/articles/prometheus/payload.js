__NUXT_JSONP__("/blog/articles/prometheus", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx){return {data:[{article:{title:"Metrics with Prometheus on Kubernetes",description:"I piece together the installation and configuration of Prometheus and Alert Manager on Kubernetes.",img:"miguel-a-amutio-ngZ4V-myG5s-unsplash.jpg",alt:"Metrics with Prometheus",featured:1,author:{name:"Jesse Quinn",bio:"All about Jesse",img:"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1533636721434-0e2d61030955?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2550&q=80",alt:"profile photo"},publishedAt:"2020-06-20T03:00:00.000Z",updateAt:aE,toc:[{id:bd,depth:aF,text:be},{id:bf,depth:aF,text:bg},{id:aG,depth:bh,text:aH},{id:bi,depth:bh,text:aI},{id:bj,depth:aF,text:bk}],body:{type:"root",children:[{type:b,tag:aJ,props:{id:bd},children:[{type:b,tag:B,props:{href:"#introduction",ariaHidden:N,tabIndex:ap},children:[{type:b,tag:c,props:{className:[aq,ar]},children:[]}]},{type:a,value:be}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:b,tag:B,props:{href:"https:\u002F\u002Fprometheus.io\u002F",rel:[U,V,W],target:X},children:[{type:a,value:aH}]},{type:a,value:" is, de facto, quite relevant to the area of monitoring metrics. As\nan open source project, Prometheus, has a large community and is actively supported. I recently introduced\nPrometheus to my cluster setup, and I will describe here how this was achieved on a "},{type:b,tag:B,props:{href:"https:\u002F\u002Fm.do.co\u002Fc\u002F6ceb645458ec",rel:[U,V,W],target:X},children:[{type:a,value:"DO"}]},{type:a,value:" kubernetes pool.\nIn addition, I will introduce "},{type:b,tag:B,props:{href:"https:\u002F\u002Fprometheus.io\u002Fdocs\u002Falerting\u002Flatest\u002Falertmanager\u002F#:~:text=The%20Alertmanager%20handles%20alerts%20sent,silencing%20and%20inhibition%20of%20alerts.",rel:[U,V,W],target:X},children:[{type:a,value:aI}]},{type:a,value:", which\ngoes hand in hand with Prometheus and provides a method to creating alerts to issues."}]},{type:a,value:n},{type:b,tag:aJ,props:{id:bf},children:[{type:b,tag:B,props:{href:"#preparation-and-installation",ariaHidden:N,tabIndex:ap},children:[{type:b,tag:c,props:{className:[aq,ar]},children:[]}]},{type:a,value:bg}]},{type:a,value:n},{type:b,tag:bl,props:{id:aG},children:[{type:b,tag:B,props:{href:"#prometheus",ariaHidden:N,tabIndex:ap},children:[{type:b,tag:c,props:{className:[aq,ar]},children:[]}]},{type:a,value:aH}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:a,value:"I recommend that a PersistentVolumeClaim be created for data persistence. The following would create a 50Gi block storage volume in the monitoring\nnamespace."}]},{type:a,value:n},{type:b,tag:E,props:{className:[F]},children:[{type:b,tag:c,props:{className:[bm]},children:[{type:a,value:"PrometheusPersistentVolumeClaim.yaml"}]},{type:b,tag:G,props:{className:[H,I]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" PersistentVolumeClaim\n"},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"pvc\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"accessModes"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" ReadWriteOnce\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"requests"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"storage"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" 50Gi\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"storageClassName"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" do"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"block"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"storage\n"}]}]}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:b,tag:s,props:{},children:[{type:a,value:"kubectl apply -f PrometheusPersistentVolumeClaim.yaml"}]},{type:a,value:" will create\u002Fapply the PersistentVolumeClaim. Next we need to create a ClusterRole and ClusterRoleBinding:"}]},{type:a,value:n},{type:b,tag:E,props:{className:[F]},children:[{type:b,tag:G,props:{className:[H,I]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# PrometheusClusterRole.yaml"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" ClusterRole\n"},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" nodes\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" nodes\u002Fproxy\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" services\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" endpoints\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" pods\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" extensions\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" ingresses\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"nonResourceURLs"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"\u002Fmetrics\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"\u002Fhealthz\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" ClusterRoleBinding\n"},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"roleRef"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"apiGroup"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" rbac.authorization.k8s.io\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" ClusterRole\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"subjects"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" ServiceAccount\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" default\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ab}]}]}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:a,value:"We need to create these permissions as Prometheus can\u002Fwill scrape pods, nodes, services, endpoints, and so on for metrics.\n"},{type:b,tag:s,props:{},children:[{type:a,value:"kubectl apply -f PrometheusClusterRole.yaml"}]},{type:a,value:" is needed to create\u002Fapply the roles."}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:a,value:"We will also implement a ConfigMap to store both the "},{type:b,tag:s,props:{},children:[{type:a,value:aO}]},{type:a,value:" and the "},{type:b,tag:s,props:{},children:[{type:a,value:aP}]},{type:a,value:". However, what is provided below is just\nan example and will certainly require "},{type:b,tag:B,props:{href:"https:\u002F\u002Fprometheus.io\u002Fdocs\u002Fprometheus\u002Flatest\u002Fconfiguration\u002Fconfiguration\u002F",rel:[U,V,W],target:X},children:[{type:a,value:"changes"}]},{type:a,value:" for your situation."}]},{type:a,value:n},{type:b,tag:E,props:{className:[F]},children:[{type:b,tag:G,props:{className:[H,I]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# PrometheusConfigMap.yaml"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# https:\u002F\u002Fgithub.com\u002Falerta\u002Fprometheus-config\u002Fblob\u002Fmaster\u002Fconfig\u002Fprometheus.rules.yml"}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"groups"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" .\u002Frules.conf\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# heartbeat alert"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" Heartbeat\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" vector(1)\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" informational\n    \n      "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# service availability alert"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" service_down\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" up == 0\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" major\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bt}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:aS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:" is unavailable.\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" DOWN ("},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:")\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"runbook"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" http"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u002F\u002Fwiki.alerta.io\u002FRunBook\u002F"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:"\u002FEvent\u002F"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" service_up\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" up == 1\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" normal\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bt}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:aS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:" is available.\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" UP ("},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:")\n    \n      "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# system load alert"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" high_load\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" node_load1 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ai}]},{type:a,value:" 0.5\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'{{ $labels.instance }} of job {{ $labels.job }} is under high load.'"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" Instance "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:aS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:" under high load\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'{{ $value }}'"}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# disk space alert (with resource=\u003Cinstance\u003E:\u003Cmountpoint\u003E event=disk_space"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" disk_space\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bz},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ai}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'{{ $labels.instance }}:{{ $labels.mountpoint }}'"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bC}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# disk space alert (with resource=\u003Cinstance\u003E event=disk_util:\u003Cmountpoint\u003E"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" disk_util\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bz},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ai}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'{{ $labels.instance }}'"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"event"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'{alertname}:{{ $labels.mountpoint }}'"}]},{type:a,value:"  "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# python templating rendered by Alerta"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bC}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# API request rate alert"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" api_requests_high\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" rate(alerta_alerts_queries_count"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:"instance=\"alerta"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"8080\""},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:"job=\"alerta\""},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"5m"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:") "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ai}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" Alerta"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:"Platform\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" major\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" API request rate of "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ad}]},{type:a,value:" printf \"%.1f\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:" req\u002Fs is high (threshold 5 req\u002Fs)\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" API request rate high\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'{{ humanize $value }} req\u002Fs'"}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"prometheus.yml"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# https:\u002F\u002Fgithub.com\u002Fprometheus\u002Fprometheus\u002Fblob\u002Fmaster\u002Fdocumentation\u002Fexamples\u002Fprometheus.yml"}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# my global config"}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"     15s "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# Set the scrape interval to every 15 seconds. Default is every 1 minute."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"evaluation_interval"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" 15s "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# Evaluate rules every 15 seconds. The default is every 1 minute."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# scrape_timeout is set to the global default (10s)."}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# Alertmanager configuration"}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"alerting"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"alertmanagers"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# - alertmanager:9093"}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# Load rules once and periodically evaluate them according to the global 'evaluation_interval'."}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"rule_files"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# - \"first_rules.yml\""}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# - \"second_rules.yml\""}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# A scrape configuration containing exactly one endpoint to scrape:"}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# Here it's Prometheus itself."}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"scrape_configs"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# The job name is added as a label `job=\u003Cjob_name\u003E` to any timeseries scraped from this config."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'prometheus'"}]},{type:a,value:bH},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# metrics_path defaults to '\u002Fmetrics'"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# scheme defaults to 'http'."}]},{type:a,value:bH},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'localhost:9090'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:n}]}]}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:b,tag:s,props:{},children:[{type:a,value:"kubectl apply -f PrometheusConfigMap.yaml"}]},{type:a,value:" will also apply\u002Fcreate the ConfigMap. "},{type:b,tag:s,props:{},children:[{type:a,value:aP}]},{type:a,value:" contains your alert rules and will function later on with Alert Manager.\n"},{type:b,tag:s,props:{},children:[{type:a,value:aO}]},{type:a,value:" contains scraping rules amongst other things and plays and obvious role in what metrics are actually collected. Here you can also modify labels. As a more complex example:"}]},{type:a,value:n},{type:b,tag:E,props:{className:[F]},children:[{type:b,tag:G,props:{className:[H,I]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bI}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'kubernetes-nodes-cadvisor'"}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"scrape_timeout"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"scheme"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" https  "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# remove if you want to scrape metrics on insecure port"}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"tls_config"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"ca_file"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fvar\u002Frun\u002Fsecrets\u002Fkubernetes.io\u002Fserviceaccount\u002Fca.crt\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"bearer_token_file"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fvar\u002Frun\u002Fsecrets\u002Fkubernetes.io\u002Fserviceaccount\u002Ftoken\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" node\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" labelmap\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" __meta_kubernetes_node_label_(.+)\n      "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# Only for Kubernetes ^1.7.3."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# See: https:\u002F\u002Fgithub.com\u002Fprometheus\u002Fprometheus\u002Fissues\u002F2916"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" __address__\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" kubernetes.default.svc"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:"443"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"__meta_kubernetes_node_name"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" (.+)\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" __metrics_path__\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fapi\u002Fv1\u002Fnodes\u002F$"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:aW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:"\u002Fproxy\u002Fmetrics\u002Fcadvisor\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"metric_relabel_configs"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:bO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'^\u002Fmachine\\.slice\u002Fmachine-rkt\\\\x2d([^\\\\]+)\\\\.+\u002F([^\u002F]+)\\.service$'"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" rkt_container_name\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'${2}-${1}'"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:bO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'^\u002Fsystem\\.slice\u002F(.+)\\.service$'"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" systemd_service_name\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'${1}'"}]},{type:a,value:"\n  \n  "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'kubernetes-pods'"}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" pod\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" keep\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aw,at]},children:[{type:a,value:N}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"__meta_kubernetes_pod_annotation_prometheus_io_path"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" __metrics_path__\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" (.+)\n    "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"__address__"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" __meta_kubernetes_pod_annotation_prometheus_io_port"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" ("},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"^"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:"+)("},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\\d+)"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bQ}]},{type:a,value:";(\\d+)\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" $1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"$2\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" __address__\n    "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" labelmap\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" __meta_kubernetes_pod_label_(.+)\n    "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"__meta_kubernetes_namespace"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" kubernetes_namespace\n    "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"__meta_kubernetes_pod_name"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" kubernetes_pod_name\n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bI}]},{type:a,value:n}]}]}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:a,value:"Now we can deploy our Prometheus with "},{type:b,tag:s,props:{},children:[{type:a,value:"kubectl apply -f PrometheusDeployment.yaml"}]},{type:a,value:". As of today, the latest release is 2.19.0. Specifically in this deploy, retention is set to 60 days. Feel free to change.\nAlso, the data path is set to "},{type:b,tag:s,props:{},children:[{type:a,value:"\u002Fprometheus"}]},{type:a,value:", which aligns with the PVC. We require an initcontainer to set the correct owner and group on the data folder."}]},{type:a,value:n},{type:b,tag:E,props:{className:[F]},children:[{type:b,tag:G,props:{className:[H,I]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# PrometheusDeployment.yaml"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:aW}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" prometheus\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" prometheus\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" prom\u002Fprometheus"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"v2.19.0\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"--config.file=\u002Fetc\u002Fprometheus\u002Fprometheus.yml\""}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"--storage.tsdb.path=\u002Fprometheus\""}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"--storage.tsdb.retention.time=60d\""}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:bZ}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"config\n              "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fetc\u002Fprometheus\n            "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fprometheus\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"config\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"defaultMode"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:"420"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" prometheus\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"storage\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"persistentVolumeClaim"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"claimName"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"pvc\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"initContainers"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" fix"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"permissions\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" busybox\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"command"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"sh\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"-c\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"chown -R nobody:nogroup \u002Fprometheus\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"securityContext"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"privileged"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aw,at]},children:[{type:a,value:N}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fprometheus\n"}]}]}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:a,value:"Finally, we create our, "},{type:b,tag:s,props:{},children:[{type:a,value:"kubectl apply -f PrometheusService.yaml"}]},{type:a,value:", service."}]},{type:a,value:n},{type:b,tag:E,props:{className:[F]},children:[{type:b,tag:G,props:{className:[H,I]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# PrometheusService.yaml"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cb},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:cc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cd}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ce}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cf},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'9090'"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cg}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ch}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:bZ}]},{type:a,value:n}]}]}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:a,value:"Here, we have the annotations "},{type:b,tag:s,props:{},children:[{type:a,value:"prometheus.io\u002Fscrape: 'true'"}]},{type:a,value:" and "},{type:b,tag:s,props:{},children:[{type:a,value:"prometheus.io\u002Fport: '9090'"}]},{type:a,value:". This allows to enable on the scraping for this specific service.\nIf we look at the more complex "},{type:b,tag:s,props:{},children:[{type:a,value:aO}]},{type:a,value:" example:"}]},{type:a,value:n},{type:b,tag:E,props:{className:[F]},children:[{type:b,tag:G,props:{className:[H,I]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" keep\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aw,at]},children:[{type:a,value:N}]},{type:a,value:n}]}]}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:a,value:"if scrape is not set to true it is dropped."}]},{type:a,value:n},{type:b,tag:bl,props:{id:bi},children:[{type:b,tag:B,props:{href:"#alert-manager",ariaHidden:N,tabIndex:ap},children:[{type:b,tag:c,props:{className:[aq,ar]},children:[]}]},{type:a,value:aI}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:a,value:"We can look at the "},{type:b,tag:B,props:{href:"https:\u002F\u002Fgithub.com\u002Fprometheus\u002Falertmanager\u002Fblob\u002Fmaster\u002Fdoc\u002Fexamples\u002Fsimple.yml",rel:[U,V,W],target:X},children:[{type:a,value:"example"}]},{type:a,value:" provided my Prometheus:"}]},{type:a,value:n},{type:b,tag:E,props:{className:[F]},children:[{type:b,tag:G,props:{className:[H,I]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# AlertManagerConfigmap.yaml"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"config\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"config.yml"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# The smarthost and SMTP sender used for mail notifications."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"smtp_smarthost"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'localhost:25'"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"smtp_from"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'alertmanager@example.org'"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"smtp_auth_username"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'alertmanager'"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"smtp_auth_password"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'password'"}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# The directory from which notification templates are read."}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ci}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \n    "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'\u002Fetc\u002Falertmanager\u002Ftemplate\u002F*.tmpl'"}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# The root route on which each incoming alert enters."}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"route"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# The labels by which incoming alerts are grouped together. For example,"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# multiple alerts coming in for cluster=A and alertname=LatencyHigh would"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# be batched into a single group."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"#"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# To aggregate by all possible labels use '...' as the sole label name."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# This effectively disables aggregation entirely, passing through all"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# alerts as-is. This is unlikely to be what you want, unless you have"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# a very low alert volume or your upstream notification system performs"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# its own grouping. Example: group_by: [...]"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:cj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ck}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cm}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# When a new group of alerts is created by an incoming alert, wait at"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# least 'group_wait' to send the initial notification."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# This way ensures that you get multiple alerts for the same group that start"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# firing shortly after another are batched together on the first "}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# notification."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"group_wait"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" 30s\n    \n      "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# When the first notification was sent, wait 'group_interval' to send a batch"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# of new alerts that started firing for that group."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"group_interval"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" 5m\n    \n      "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# If an alert has successfully been sent, wait 'repeat_interval' to"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# resend them."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"repeat_interval"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" 3h \n    \n      "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# A default receiver"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"mails\n    \n      "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# All the above attributes are inherited by all child routes and can "}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# overwritten on each."}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# The child route trees."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# This routes performs a regular expression match on alert labels to"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# catch alerts that are related to a list of services."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"match_re"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" ^(foo1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ad}]},{type:a,value:"foo2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ad}]},{type:a,value:"baz)$\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"mails\n        "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# The service has a sub-route for critical alerts, any alerts"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# that do not match, i.e. severity != critical, fall-back to the"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# parent node and are sent to 'team-X-mails'"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cn},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"pager\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" files\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"mails\n    \n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cn},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"pager\n    \n      "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# This route handles all alerts coming from a database service. If there's"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# no team to handle it, it defaults to the DB team."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" database\n        "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:co},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"pager\n        "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# Also group alerts by affected database."}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:cj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" cluster"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" database"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:cp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"X\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"pager\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"continue"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aw,at]},children:[{type:a,value:N}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:cp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"Y\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"pager\n    \n    \n    "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# Inhibition rules allow to mute a set of alerts given that another alert is"}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# firing."}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# We use this to mute any warning-level notifications if the same alert is "}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# already critical."}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"inhibit_rules"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"source_match"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'critical'"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"target_match"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'warning'"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# Apply inhibition if the alertname is the same."}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# CAUTION: "}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"#   If all label names listed in `equal` are missing "}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"#   from both the source and target alerts,"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"#   the inhibition rule will apply!"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"equal"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ck}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cm}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:"\n    \n    \n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"receivers"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'team-X-mails'"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'team-X+alerts@example.org'"}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'team-X-pager'"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'team-X+alerts-critical@example.org'"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ai}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'team-Y-mails'"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'team-Y+alerts@example.org'"}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'team-Y-pager'"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ai}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'team-DB-pager'"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:co},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ai}]},{type:a,value:n}]}]}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:a,value:"After "},{type:b,tag:B,props:{href:"https:\u002F\u002Fprometheus.io\u002Fdocs\u002Falerting\u002Flatest\u002Fconfiguration\u002F",rel:[U,V,W],target:X},children:[{type:a,value:"configuring"}]},{type:a,value:" Alert Manager we can simply run "},{type:b,tag:s,props:{},children:[{type:a,value:"kubectl apply -f AlertManagerConfigmap.yaml"}]},{type:a,value:" to create the ConfigMap. However, from the\nexample above, it may not be so obvious, but we can define reusable "},{type:b,tag:B,props:{href:"https:\u002F\u002Fprometheus.io\u002Fdocs\u002Falerting\u002Flatest\u002Fnotification_examples\u002F",rel:[U,V,W],target:X},children:[{type:a,value:ci}]},{type:a,value:" and we could also configure those by ConfigMap."}]},{type:a,value:n},{type:b,tag:E,props:{className:[F]},children:[{type:b,tag:G,props:{className:[H,I]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# AlertTemplateConfigMap.yaml"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aQ},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"creationTimestamp"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,cq,at]},children:[{type:a,value:cq}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"templates\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"default.tmpl"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,"scalar",m]},children:[{type:a,value:"\n    {{ define \"slack.myorg.text\" }}https:\u002F\u002Finternal.myorg.net\u002Fwiki\u002Falerts\u002F{{ .GroupLabels.app }}\u002F{{ .GroupLabels.alertname }}{{ end}}"}]},{type:a,value:n}]}]}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:a,value:"We deploy Alert Manager "},{type:b,tag:s,props:{},children:[{type:a,value:"kubectl apply -f AlertManagerDeployment.yaml"}]},{type:a,value:"; however, in this case we have not configured a PersistentVolumeClaim. It may be a good idea here to add a block storage. Refer to\nthe Prometheus Deployment manifest and PersistentVolumeClaim on how to do so."}]},{type:a,value:n},{type:b,tag:E,props:{className:[F]},children:[{type:b,tag:G,props:{className:[H,I]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"# AlertManagerDeployment.yaml"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:aW}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" alertmanager\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" alertmanager\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cr},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" prom\u002Falertmanager"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"v0.20.0\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"--config.file=\u002Fetc\u002Falertmanager\u002Fconfig.yml\""}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"--storage.path=\u002Falertmanager\""}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cs},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:bY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:ct}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fetc\u002Falertmanager\n            "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fetc\u002Falertmanager"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"templates\n            "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cs},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Falertmanager\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:cx},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"config\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:cx},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"templates\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cr},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"emptyDir"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:n}]}]}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:a,value:"Finally, we have our service "},{type:b,tag:s,props:{},children:[{type:a,value:"kubectl apply -f AlertManagerService.yaml"}]},{type:a,value:". We add annotations here for Prometheus, but they are not mandatory."}]},{type:a,value:n},{type:b,tag:E,props:{className:[F]},children:[{type:b,tag:c,props:{className:[bm]},children:[{type:a,value:"AlertManagerService.yaml"}]},{type:b,tag:G,props:{className:[H,I]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cb},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:cc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cd}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ce}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:cf},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'9093'"}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ay}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cg}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ch}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:ct}]},{type:a,value:n}]}]}]},{type:a,value:n},{type:b,tag:aJ,props:{id:bj},children:[{type:b,tag:B,props:{href:"#final-words",ariaHidden:N,tabIndex:ap},children:[{type:b,tag:c,props:{className:[aq,ar]},children:[]}]},{type:a,value:bk}]},{type:a,value:n},{type:b,tag:A,props:{},children:[{type:a,value:"Prometheus and Alert Manager require some reading to fully grasp how to configure properly. However, Prometheus is a powerful metrics monitor and once aligned with "},{type:b,tag:B,props:{href:"https:\u002F\u002Fgrafana.com\u002F",rel:[U,V,W],target:X},children:[{type:a,value:"Grafana"}]},{type:a,value:" becomes\nan amazing group of tools to manage a system."}]}]},dir:"\u002Farticles",path:"\u002Farticles\u002Fprometheus",extension:".md",slug:aG,createdAt:"2020-07-22T00:27:09.691Z",updatedAt:"2020-07-25T22:21:46.007Z"},prev:{title:"Grafana on Kubernetes",updateAt:aE,slug:"grafana"},next:{title:"An elastic stack with Redis \"buffer\"",updateAt:aE,slug:"elastic-stack"}}],fetch:[],mutations:[]}}("text","element","span","token","punctuation",":","key","atrule"," ","-","\n      ","comment","string","\n","\n    ","name","\n  ","\n        ","code","\n          ","[","]","\n            ",",","{","}","p","a","kind","metadata","div","nuxt-content-highlight","pre","language-yaml","line-numbers","---","apiVersion","action"," team","true","namespace","labels","\n    \n    ","regex","number","source_labels","nofollow","noopener","noreferrer","_blank","severity","annotations","target_label","receiver"," prometheus"," monitoring\n","spec","|","\n    \n      ","alert","expr","app","\u003E"," v1\n"," prometheus\n  ","service","value","mountPath","match",-1,"icon","icon-link","replacement","important","X","description","boolean"," replace\n      ","selector","ports"," alertmanager","routes","Y"," alertmanager\n  ","2020-07-19T03:00:00.000Z",2,"prometheus","Prometheus","Alert Manager","h2","resources"," prometheus\n","verbs","\"get\"","prometheus.yaml","prometheus.rules"," ConfigMap\n","data"," $labels.instance "," $value "," 5\n        ","job_name","1","image","volumeMounts","configMap","email_configs","to","pagerduty_configs","service_key"," \u003Cteam","introduction","Introduction","preparation-and-installation","Preparation and Installation",3,"alert-manager","final-words","Final Words","h3","filename"," rbac.authorization.k8s.io\u002Fv1beta1\n","rules","apiGroups","\"list\"","\"watch\""," Platform\n          ","correlate"," service_up","service_down\n        "," Service ","alertname","summary"," (node_filesystem_size_bytes "," node_filesystem_free_bytes) * 100 \u002F node_filesystem_size_bytes ","instance","'{{ humanize $value }}%'","global","scrape_interval","static_configs","targets","\n    \n        ","..."," 10s\n    ","kubernetes_sd_configs","role","relabel_configs"," replace\n        ","id","__meta_kubernetes_pod_annotation_prometheus_io_scrape","?"," apps\u002Fv1\n"," Deployment\n","replicas","matchLabels","template","containers","args","containerPort","9090","storage\n              ","volumes"," Service\n"," monitoring\n  ","prometheus.io\u002Fscrape","'true'","prometheus.io\u002Fport","   ","\"http\"","port","templates","group_by","'alertname'","'cluster'","'service'"," critical\n          ","DB","owner","null"," alertmanager\n          "," alertmanager\n              ","9093"," config","volume\n              "," templates","volume\n          ")));