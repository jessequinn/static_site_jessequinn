__NUXT_JSONP__("/blog/articles/grafana", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS){return {data:[{article:{title:am,description:"Quickly configure and install Grafana, Loki, and Promtail on Kubernetes.",img:"john-towner-3Kv48NS4WUU-unsplash.jpg",alt:am,featured:1,author:{name:"Jesse Quinn",bio:"All about Jesse",img:"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1533636721434-0e2d61030955?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2550&q=80",alt:"profile photo"},publishedAt:"2020-06-20T03:00:00.000Z",updateAt:ad,toc:[{id:an,depth:ae,text:ao},{id:ap,depth:ae,text:aq},{id:af,depth:ar,text:ag},{id:as,depth:ar,text:ah},{id:at,depth:ae,text:au}],body:{type:"root",children:[{type:b,tag:ai,props:{id:an},children:[{type:b,tag:q,props:{href:"#introduction",ariaHidden:y,tabIndex:N},children:[{type:b,tag:c,props:{className:[O,P]},children:[]}]},{type:a,value:ao}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"As a heavy user of "},{type:b,tag:q,props:{href:"https:\u002F\u002Fwww.elastic.co\u002F",rel:[z,A,B],target:C},children:[{type:a,value:"elastic stack"}]},{type:a,value:", but more specifically,\n"},{type:b,tag:q,props:{href:"https:\u002F\u002Fwww.elastic.co\u002Fkibana",rel:[z,A,B],target:C},children:[{type:a,value:"Kibana"}]},{type:a,value:", "},{type:b,tag:q,props:{href:"https:\u002F\u002Fgrafana.com\u002F",rel:[z,A,B],target:C},children:[{type:a,value:ag}]},{type:a,value:" offers a similar\ninterface but with more luxuries, in my opinion. More so, with\nthe introduction of "},{type:b,tag:q,props:{href:"https:\u002F\u002Fgrafana.com\u002Foss\u002Floki\u002F",rel:[z,A,B],target:C},children:[{type:a,value:ah}]},{type:a,value:" and "},{type:b,tag:q,props:{href:"https:\u002F\u002Fgithub.com\u002Fgrafana\u002Floki\u002Ftree\u002Fmaster\u002Fdocs\u002Fclients\u002Fpromtail",rel:[z,A,B],target:C},children:[{type:a,value:"Promtail"}]},{type:a,value:".\nNonetheless, Grafana still lacks some of the power of processing logs that the elastic stack\ncarries."}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"In this article, I will quickly cover the installation and configuration of Grafana, Loki, and Promtail on a\n"},{type:b,tag:q,props:{href:"https:\u002F\u002Fm.do.co\u002Fc\u002F6ceb645458ec",rel:[z,A,B],target:C},children:[{type:a,value:"DO"}]},{type:a,value:" kubernetes pool."}]},{type:a,value:j},{type:b,tag:ai,props:{id:ap},children:[{type:b,tag:q,props:{href:"#installation",ariaHidden:y,tabIndex:N},children:[{type:b,tag:c,props:{className:[O,P]},children:[]}]},{type:a,value:aq}]},{type:a,value:j},{type:b,tag:av,props:{id:af},children:[{type:b,tag:q,props:{href:"#grafana",ariaHidden:y,tabIndex:N},children:[{type:b,tag:c,props:{className:[O,P]},children:[]}]},{type:a,value:ag}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"To install could be as simple as using "},{type:b,tag:q,props:{href:"https:\u002F\u002Fgithub.com\u002Fgrafana\u002Floki\u002Fblob\u002Fmaster\u002Fdocs\u002Finstallation\u002Fhelm.md",rel:[z,A,B],target:C},children:[{type:a,value:"helm"}]},{type:a,value:f}]},{type:a,value:j},{type:b,tag:F,props:{className:[G]},children:[{type:b,tag:H,props:{className:[I,aw]},children:[{type:b,tag:s,props:{},children:[{type:a,value:ax},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:"\n--set grafana.enabled"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:v}]},{type:a,value:"true,prometheus.enabled"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:v}]},{type:a,value:"true,"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:"\nprometheus.alertmanager.persistentVolume.enabled"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:v}]},{type:a,value:"false,"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:"\nprometheus.server.persistentVolume.enabled"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:v}]},{type:a,value:"false\n"}]}]}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"However, I would like to make some changes and so I will demonstrate how to install Grafana via manifests."}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"Let's create a PersistentVolumeClaim:"}]},{type:a,value:j},{type:b,tag:F,props:{className:[G]},children:[{type:b,tag:c,props:{className:[ay]},children:[{type:a,value:"GrafanaPersistentVolumeClaim.yaml"}]},{type:b,tag:H,props:{className:[I,U]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" PersistentVolumeClaim\n"},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"pvc\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"accessModes"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:" ReadWriteOnce\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"storage"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" 50Gi\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"storageClassName"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" do"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"block"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"storage\n"}]}]}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"and create the resource "},{type:b,tag:s,props:{},children:[{type:a,value:"kubectl apply -f GrafanaPersistentVolumeClaim.yaml"}]},{type:a,value:". Next, we need to provide some configurations:"}]},{type:a,value:j},{type:b,tag:F,props:{className:[G]},children:[{type:b,tag:c,props:{className:[ay]},children:[{type:a,value:"GrafanaConfigMap.yaml"}]},{type:b,tag:H,props:{className:[I,U]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"datasources\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"prometheus.yaml"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aE}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"\"apiVersion\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"\"datasources\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aE}]},{type:a,value:"\n               \"access\""},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"proxy\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"\"editable\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aj,ak]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"\"name\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"\"orgId\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"\"type\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"\"url\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"http:\u002F\u002Fprometheus:9090\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"\"version\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Y}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aG}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:_}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aG}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"config\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:a,value:"server"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:_}]},{type:a,value:"\n    root_url = \u003Cbase url"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:a,value:"smtp"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:_}]},{type:a,value:"\n    enabled = true\n    host = \u003Chost"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"\u003Cport"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:"\n    user = \u003Cuser"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:"\n    password = \u003Cpassword"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:"\n    from_address = \u003Cemail"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:"\n    from_name = \u003Cname"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:j}]}]}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"I assume that Prometheus is in the same namespace (i.e. monitoring). Also, I include a "},{type:b,tag:s,props:{},children:[{type:a,value:aH}]},{type:a,value:" with SMTP enabled.\nCreate the ConfigMaps "},{type:b,tag:s,props:{},children:[{type:a,value:"kubectl apply -f GrafanaConfigMap.yaml"}]},{type:a,value:". "}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"Now with the deployment of Grafana:"}]},{type:a,value:j},{type:b,tag:F,props:{className:[G]},children:[{type:b,tag:H,props:{className:[I,U]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:"# GrafanaDeployment.yaml"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" apps\u002Fv1\n"},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" Deployment\n"},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"replicas"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:Y}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"matchLabels"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"template"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" grafana\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"labels"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" grafana\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"containers"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" grafana\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" grafana\u002Fgrafana"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"7.0.3\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" grafana\n              "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"containerPort"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:aM}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"limits"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"2Gi\""}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"1000m\""}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"1Gi\""}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"500m\""}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fvar\u002Flib\u002Fgrafana\n              "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"storage\n            "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fetc\u002Fgrafana\n              "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"config\n            "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fetc\u002Fgrafana\u002Fprovisioning\u002Fdatasources\n              "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"datasources\n              "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"readOnly"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aj,ak]},children:[{type:a,value:"false"}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"volumes"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"storage\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"persistentVolumeClaim"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"claimName"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"pvc\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"config\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:aS}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"config\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"datasources\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:aS}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"datasources\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"initContainers"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" fix"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"permissions\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" busybox\n          "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"command"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"sh\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"-c\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"chown -R 472:472 \u002Fvar\u002Flib\u002Fgrafana\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:_}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"securityContext"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"privileged"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,aj,ak]},children:[{type:a,value:y}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"storage\n              "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fvar\u002Flib\u002Fgrafana\n"}]}]}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"Deploy "},{type:b,tag:s,props:{},children:[{type:a,value:"kubectl apply -f GrafanaDeployment.yaml"}]},{type:a,value:". Special note, we need the initContainer to fix permissions on the block storage. Finally, with the service:"}]},{type:a,value:j},{type:b,tag:F,props:{className:[G]},children:[{type:b,tag:H,props:{className:[I,U]},children:[{type:b,tag:s,props:{},children:[{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:"# GrafanaService.yaml"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" Service\n"},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" monitoring\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"annotations"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"prometheus.io\u002Fscrape"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'true'"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"prometheus.io\u002Fport"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"   "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'9090'"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"\"http\""}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"port"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:aM}]},{type:a,value:j}]}]}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"Create that resource "},{type:b,tag:s,props:{},children:[{type:a,value:"kubectl apply -f GrafanaService.yaml"}]},{type:a,value:"."}]},{type:a,value:j},{type:b,tag:av,props:{id:as},children:[{type:b,tag:q,props:{href:"#loki",ariaHidden:y,tabIndex:N},children:[{type:b,tag:c,props:{className:[O,P]},children:[]}]},{type:a,value:ah}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"Installing Loki will be directly from the Helm command:"}]},{type:a,value:j},{type:b,tag:F,props:{className:[G]},children:[{type:b,tag:H,props:{className:[I,aw]},children:[{type:b,tag:s,props:{},children:[{type:a,value:ax},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:"\n--set promtail.enabled"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:v}]},{type:a,value:"true,loki.persistence.enabled"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:v}]},{type:a,value:"true,loki.persistence.size"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:v}]},{type:a,value:"50Gi,"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:"\nconfig.table_manager.retention_deletes_enabled"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:v}]},{type:a,value:"true,config.table_manager.retention_period"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:v}]},{type:a,value:"1440h "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:"\n--namespace"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:v}]},{type:a,value:"monitoring\n"}]}]}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"A block-storage of 50Gi will be created. Loki will maintain logs for 60 days (1440 hours) as well Promtail is enabled."}]},{type:a,value:j},{type:b,tag:ai,props:{id:at},children:[{type:b,tag:q,props:{href:"#final-words",ariaHidden:y,tabIndex:N},children:[{type:b,tag:c,props:{className:[O,P]},children:[]}]},{type:a,value:au}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"Grafana, Loki, and Promtail are super easy to get started. They do not require substantial resources either, which is fantastic for a new user or\nsomeone entering into the field of system monitoring."}]}]},dir:"\u002Farticles",path:"\u002Farticles\u002Fgrafana",extension:".md",slug:af,createdAt:"2020-07-22T00:27:09.715Z",updatedAt:"2020-07-25T22:21:25.068Z"},prev:{title:"Kong Ingress",updateAt:ad,slug:"kong-ingress"},next:{title:"Metrics with Prometheus on Kubernetes",updateAt:ad,slug:"prometheus"}}],fetch:[],mutations:[]}}("text","element","span","token","punctuation",":","key","atrule"," ","\n","-","name","string","p"," grafana","\n            ","a","\n    ","code","\n  ","operator","=",",","number","true","nofollow","noopener","noreferrer","_blank","\n        ","\u003E","div","nuxt-content-highlight","pre","line-numbers","\\","metadata","\n      ","\n                ",-1,"icon","icon-link","---","apiVersion","kind","namespace","language-yaml"," v1\n"," monitoring\n","spec","1","[","]"," grafana\n  ","\n          ","\n              ","mountPath","2020-07-19T03:00:00.000Z",2,"grafana","Grafana","Loki","h2","boolean","important","app","Grafana on Kubernetes","introduction","Introduction","installation","Installation",3,"loki","final-words","Final Words","h3","language-bash","helm upgrade --install loki loki\u002Floki-stack ","filename","resources","requests"," ConfigMap\n","data","|","{","\"prometheus\"","}","grafana.ini","comment","selector","image","ports","3000","memory","cpu","volumeMounts","configMap","defaultMode","420")));