__NUXT_JSONP__("/blog/articles/drone-again", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN){return {data:[{article:{title:X,description:"I have moved from `exec` style pipelines to the isolated `docker` pipeline.",img:"diana-macesanu-fvPfMJL2wKw-unsplash.jpg",alt:X,featured:1,author:{name:"Jesse Quinn",bio:"All about Jesse",img:"https:\u002F\u002Fimages.unsplash.com\u002Fphoto-1533636721434-0e2d61030955?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2550&q=80",alt:"profile photo"},publishedAt:"2019-11-09T03:00:00.000Z",updateAt:J,toc:[],body:{type:"root",children:[{type:b,tag:B,props:{},children:[{type:a,value:"Hi Guys,"}]},{type:a,value:p},{type:b,tag:B,props:{},children:[{type:a,value:"So i decided to move away from the pipeline "},{type:b,tag:q,props:{},children:[{type:a,value:"exec"}]},{type:a,value:" type and work with "},{type:b,tag:q,props:{},children:[{type:a,value:"docker"}]},{type:a,value:" style pipelines. The syntax is nearly the same; however, a challenge at first was how to do some basic linux command stuff on the host ec2 instance. Nonetheless, I finally figured it out.. dah.. "},{type:b,tag:q,props:{},children:[{type:a,value:"rsync"}]},{type:a,value:"!"}]},{type:a,value:p},{type:b,tag:B,props:{},children:[{type:a,value:"Anyhow, this is a general script i wrote that does several things: 1) install  dependencies via composer; 2) install dependencies via yarn; 3) rsync into host and move stuff around and fix permissions etc; 4) tarball; 5) upload to s3; 6) email."}]},{type:a,value:p},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,"language-yaml"]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"kind"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" pipeline\n"},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"type"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" docker\n"},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" installs\n\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"# not needed but defined"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"os"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" linux\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"arch"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" amd64\n\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"# steps represent each progression in your CI\u002FCD"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"steps"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"# symfony dependencies installed"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" composer_development\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" cp .env.dev.dist .env\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" composer_production\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" cp .env.prod.dist .env\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"# css, js, etc dependencies installed - webencore"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" yarn_development\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" yarn run encore dev\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" yarn_production\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" yarn run encore production\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"# rsync into host using secrets"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" deploy_development\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:al}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fvar\u002Fwww\u002Fdev\u002Fjessequinn\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,F,G]},children:[{type:a,value:H}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,F,G]},children:[{type:a,value:H}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"rf \u002Fvar\u002Fwww\u002Fdev\u002Fjessequinn\u002F.git\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"ubuntu \u002Fvar\u002Fwww\u002Fdev\u002Fjessequinn\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" sudo chmod 755 \u002Fvar\u002Fwww\u002Fdev\u002Fjessequinn\u002Fbin\u002Fconsole\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" php \u002Fvar\u002Fwww\u002Fdev\u002Fjessequinn\u002Fbin\u002Fconsole cache"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"env=dev\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" php \u002Fvar\u002Fwww\u002Fdev\u002Fjessequinn\u002Fbin\u002Fconsole assets"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" deploy_production\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:al}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Fvar\u002Fwww\u002Fjessequinn\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,F,G]},children:[{type:a,value:H}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,F,G]},children:[{type:a,value:H}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"rf \u002Fvar\u002Fwww\u002Fjessequinn\u002F.git\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"ubuntu \u002Fvar\u002Fwww\u002Fjessequinn\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" sudo chmod 755 \u002Fvar\u002Fwww\u002Fjessequinn\u002Fbin\u002Fconsole\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" php \u002Fvar\u002Fwww\u002Fjessequinn\u002Fbin\u002Fconsole cache"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"env=prod\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" php \u002Fvar\u002Fwww\u002Fjessequinn\u002Fbin\u002Fconsole assets"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"#tarball"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" tarball\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" alpine\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" rm "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"rf .git\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" tar cjf \u002Ftarball\u002F$"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:".tar.bz2 .\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"#s3 upload"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" upload\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" plugins\u002Fs3\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"bucket"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" bucket_name "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"# whatever your bucket name is"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"access_key"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" aws_access_key_id\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"secret_key"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" aws_secret_access_key\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002Ftarball\u002F$"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:".tar.bz2\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" \u002F\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"#email - works with gmail and outlook"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" notify\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"email\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"EMAIL_HOST"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" email_host\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"EMAIL_USERNAME"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" email_username\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"EMAIL_PASSWORD"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" email_password\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"from"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" noreply@some.email\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"recipients"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" recipient1@some.email\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:U}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" failure\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" changed\n      "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"#define tmp folder that will be destroyed once pipeline is finished - used for tarball to be shared between steps"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:" cache\n    "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"temp"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:"\n\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"#triggers for when to execute drone"}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"trigger"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" master\n    "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" develop\n  "},{type:b,tag:c,props:{className:[d,g,h]},children:[{type:a,value:"event"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" push\n    "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" pull_request\n"}]}]}]},{type:a,value:p},{type:b,tag:B,props:{},children:[{type:b,tag:"strong",props:{},children:[{type:a,value:"note"}]},{type:a,value:" To use "},{type:b,tag:q,props:{},children:[{type:a,value:"docker pipelines"}]},{type:a,value:" you need to run the "},{type:b,tag:q,props:{},children:[{type:a,value:"docker runner"}]},{type:a,value:". Because i also use "},{type:b,tag:q,props:{},children:[{type:a,value:"exec pipelines"}]},{type:a,value:" you need to configure the port to something other than 3000."}]},{type:a,value:p},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,aH]},children:[{type:b,tag:q,props:{},children:[{type:a,value:"docker run -d "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n-v \u002Fvar\u002Frun\u002Fdocker.sock:\u002Fvar\u002Frun\u002Fdocker.sock "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n-e "},{type:b,tag:c,props:{className:[d,"assign-left",aK]},children:[{type:a,value:"DRONE_RUNNER_NAME"}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,aK]},children:[{type:a,value:"${"},{type:b,tag:c,props:{className:[d,D,"constant"]},children:[{type:a,value:"HOSTNAME"}]},{type:a,value:y}]},{type:a,value:l},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n-p "},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:"4000"}]},{type:a,value:":4000 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n--restart always "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n--name runner "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\ndrone\u002Fdrone-runner-docker:1\n"}]}]}]},{type:a,value:p},{type:b,tag:B,props:{},children:[{type:a,value:"while "},{type:b,tag:q,props:{},children:[{type:a,value:aL}]},{type:a,value:" should run as"}]},{type:a,value:p},{type:b,tag:K,props:{className:[L]},children:[{type:b,tag:M,props:{className:[N,aH]},children:[{type:b,tag:q,props:{},children:[{type:a,value:"docker run "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:"\u002Fvar\u002Frun\u002Fdocker.sock:\u002Fvar\u002Frun\u002Fdocker.sock "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:"\u002Fvar\u002Flib\u002Fdrone:\u002Fdata "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:"40080"}]},{type:a,value:":80 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:"40443"}]},{type:a,value:":443 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n--restart"},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:"always "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n--detach"},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:"true "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n--name"},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:t}]},{type:a,value:"drone "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\ndrone\u002Fdrone:1\n"}]}]}]}]},dir:"\u002Farticles",path:"\u002Farticles\u002Fdrone-again",extension:".md",slug:"drone-again",createdAt:"2020-07-22T00:27:09.701Z",updatedAt:"2020-07-22T00:27:38.793Z"},prev:{title:"Drone Adventures",updateAt:J,slug:aL},next:{title:"Resizing Amazon EBS Elastic Volumes",updateAt:J,slug:"elastic-volumes"}}],fetch:[],mutations:[]}}("text","element","span","token","punctuation",":","key","atrule","-","\n      ","\n        "," ","\\","name","comment","\n","code","branch","operator","=","\n  ","image","when","from_secret","}","{"," master\n\n","p","commands","environment","settings","boolean","important","true"," \\;\n        ","2020-07-19T03:00:00.000Z","div","nuxt-content-highlight","pre","line-numbers","platform"," develop\n\n  "," drillster\u002Fdrone","source","target","volumes","status"," develop\n        ","number","More on Drone.io"," composer\n    "," composer install ","ignore","reqs ","no","scripts\n    "," node\n    "," yarn install\n      ","rsync\n    ","RSYNC_KEY"," rsync_key\n      ","RSYNC_USER"," rsync_user\n    ","hosts"," host_ip ","# you can use an ip or url"," .\n      ","delete","recursive","script"," sudo rm "," sudo chown ","R ubuntu"," sudo find \u002Fvar\u002Fwww\u002Fdev\u002Fjessequinn ","type d ","exec chmod 755 ","type f ","exec chmod 644 ","clear ","install\n    "," sudo find \u002Fvar\u002Fwww\u002Fjessequinn "," cache\n        ","path"," \u002Ftarball\n    ","DRONE_COMMIT"," success\n      ","\n    ","language-bash","\n--env-file","\u002Fvar\u002Fdrone.env ","variable","drone","\n--volume","\n--publish")));